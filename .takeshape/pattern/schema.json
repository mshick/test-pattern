{"apiVersion":"2","projectId":"44c302ff-68f8-4305-b2c7-76afc3c2f21e","version":13,"created":"2021-06-08T13:12:26.923Z","updated":"2021-07-27T18:50:51.684Z","defaultLocale":"en-us","locales":["en-us"],"schemaVersion":"3.3.0","queries":{"getMyProfile":{"shape":"Profile","resolver":{"name":"takeshape:find","service":"takeshape:local","options":{"model":"Profile"},"argsMapping":{"where.id.eq":[["get",{"path":"claims.sub"}]]}},"description":"Get my Profile","args":"GetMyProfileInput"},"getProfile":{"shape":"Profile","resolver":{"name":"takeshape:get","service":"takeshape:local","options":{"model":"Profile"}},"description":"Get a Profile by ID","args":"TSGetArgs<Profile>"},"getProfileList":{"shape":"PaginatedList<Profile>","resolver":{"name":"takeshape:list","service":"takeshape:local","options":{"model":"Profile"}},"description":"Returns a list Profile in natural order.","args":"TSListArgs<Profile>"},"getTest":{"shape":"Test","resolver":{"name":"debug:noop","service":"takeshape:local"},"description":"Test1"},"Stripe_get3DSecureThreeDSecure":{"shape":"Stripe_ThreeDSecure","resolver":{"name":"rest:get","service":"stripe","options":{"path":"/v1/3d_secure/{three_d_secure}"},"argsMapping":{"searchParams.expand":[["get",{"path":"args.expand"}]],"pathParams.three_d_secure":[["get",{"path":"args.three_d_secure"}]]}},"description":"<p>Retrieves a 3D Secure object.</p>","args":{"type":"object","properties":{"expand":{"type":"array"},"three_d_secure":{"type":"string"}},"required":["three_d_secure"]}},"Rick_character":{"resolver":{"name":"graphql:query","service":"rick","options":{"fieldName":"character"}},"args":{"type":"object","properties":{"id":{"type":"string","@tag":"id"}},"required":["id"]},"shape":"Rick_Character"}},"mutations":{"upsertMyProfile":{"shape":"Profile","resolver":{"resultsMapping":[["get",{"path":"steps.createProfile.result"}],["get",{"path":"steps.updateProfile.result"}]],"compose":[{"if":"!isEmpty(claims.sub)","id":"existingProfile","argsMapping":{"where.id.eq":[["get",{"path":"claims.sub"}]]},"name":"takeshape:find","service":"takeshape:local","options":{"model":"Profile"}},{"if":"isEmpty(steps.existingProfile)","id":"createProfile","argsMapping":{"input.id":[["get",{"path":"claims.sub"}]],"input.email":[["get",{"path":"claims.email"}]],"input.firstName":[["get",{"path":"args.firstName"}]],"input.lastName":[["get",{"path":"args.lastName"}]],"input.bio":[["get",{"path":"args.bio"}]],"input.avatar.id":[["get",{"path":"args.avatarId"}]]},"name":"takeshape:create","service":"takeshape:local","options":{"model":"Profile"}},{"if":"!isEmpty(steps.existingProfile)","id":"updateProfile","argsMapping":{"input._id":[["get",{"path":"steps.existingProfile._id"}]],"input.email":[["get",{"path":"claims.email"}]],"input.firstName":[["get",{"path":"args.firstName"}]],"input.lastName":[["get",{"path":"args.lastName"}]],"input.bio":[["get",{"path":"args.bio"}]],"input.avatar.id":[["get",{"path":"args.avatarId"}]]},"name":"takeshape:update","service":"takeshape:local","options":{"model":"Profile"}}]},"description":"Upsert My Profile","args":"UpsertMyProfileInput"},"updateProfile":{"shape":"UpdateResult<Profile>","resolver":{"name":"takeshape:update","service":"takeshape:local","options":{"model":"Profile"}},"description":"Update Profile","args":"UpdateArgs<Profile>"},"createProfile":{"shape":"CreateResult<Profile>","resolver":{"name":"takeshape:create","service":"takeshape:local","options":{"model":"Profile"}},"description":"Create Profile","args":"CreateArgs<Profile>"},"duplicateProfile":{"shape":"DuplicateResult<Profile>","resolver":{"name":"takeshape:duplicate","service":"takeshape:local","options":{"model":"Profile"}},"description":"Duplicate Profile","args":"DuplicateArgs<Profile>"},"deleteProfile":{"shape":"DeleteResult<Profile>","resolver":{"name":"takeshape:delete","service":"takeshape:local","options":{"model":"Profile"}},"description":"Delete Profile","args":"DeleteArgs<Profile>"}},"shapes":{"Test":{"id":"Test","name":"Test","title":"Test","schema":{"type":"object","properties":{"foo":{"@ref":"stripe:Foo"},"bar":{"type":"string"},"customer":{"@ref":"stripe:Customer"}}}},"GetMyProfileInput":{"id":"GetMyProfileInput","name":"GetMyProfileInput","title":"GetMyProfileInput","schema":{"type":"object","properties":{}}},"UpsertMyProfileInput":{"id":"UpsertMyProfileInput","name":"UpsertMyProfileInput","title":"UpsertMyProfileInput","schema":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"bio":{"type":"string"},"avatarId":{"type":"string"}}}},"Profile":{"id":"K1WGTS1Yn","name":"Profile","title":"Profile","workflow":"default","model":{"type":"multiple"},"schema":{"type":"object","properties":{"bad":{"@ref":"stripe:Bad"},"customer":{"@ref":"stripe:Customer"},"id":{"type":"string","minLength":0,"description":"","title":"ID","@mapping":"takeshape:local:Profile.zCUrxUP8h"},"firstName":{"minLength":0,"type":"string","description":"","title":"First Name","@mapping":"takeshape:local:Profile.-DrKuNqxZ"},"lastName":{"minLength":0,"type":"string","description":"","title":"Last Name","@mapping":"takeshape:local:Profile.02oCExZgT"},"email":{"type":"string","minLength":0,"description":"","title":"Email","@mapping":"takeshape:local:Profile.H8n0k9-ew"},"bio":{"minLength":0,"type":"string","description":"","title":"Bio","@mapping":"takeshape:local:Profile.2nWp5by8j"},"avatar":{"description":"","$ref":"#/shapes/TSRelationship/schema","@relationship":{"shapeIds":["ASSET"]},"title":"Avatar","@mapping":"takeshape:local:Profile.k0Ha4O7oV"}}}}},"workflows":{},"forms":{"Profile":{"default":{"properties":{"id":{"widget":"singleLineText"},"firstName":{"widget":"singleLineText"},"lastName":{"widget":"singleLineText"},"email":{"widget":"singleLineText"},"bio":{"widget":"paragraphText"},"avatar":{"widget":"image"}},"order":["id","firstName","lastName","email","bio","avatar"]}}},"dataKey":"AQIDAHhcZWXOdlBglkxBhI23ElO/clC/kuw5ynjXDSqJgfTz8gExm0c5nDxaM73GtOy9rQmCAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMPxOsK1nr1F5lyt9vAgEQgDuLiV15amHuTLfiquDZ0dQqGG9ULGv5Vwpz0xBdL7fFhIkukNlwoZyQcQ/TO0qp9XBEZDZJCzf89IdQng==","services":{"stripe":{"id":"stripe","provider":"generic","title":"Stripe","namespace":"Stripe","serviceType":"openapi","authenticationType":"bearer","authentication":"F4DVT3q2JAZ4id/qw13E7CFiE2C4rqtukbPVy6ASkiB8NE7yE7ixtDQSvS1H/Ih1hPuPqZhmAQqWU5agIdh2PnkBifVvzvIRaPOCG9bPF40sV0mOK6Wpj7hIrHvOiZSb6DuCl2XUwRO2QJXmZPERcAurIBgbkdSFu/sRxuby09s2lTnGdph1PYr72yEQqONkcfNHP+8yYJ3bHeBPcbanOGVUUJLc2YM+IKnSYYL0H3u/","options":{"endpoint":"https://api.stripe.com/v1/","spec":"https://raw.githubusercontent.com/stripe/openapi/master/openapi/spec3.json"}},"rick":{"id":"rick","provider":"generic","title":"Rick","namespace":"Rick","serviceType":"graphql","authenticationType":"none","options":{"endpoint":"https://rickandmortyapi.com/graphql"}}}}